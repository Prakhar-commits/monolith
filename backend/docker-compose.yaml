version: '3'
services:
  db:
    image: postgres
    environment:
      - POSTGRES_PASSWORD=giganotosecret
      - POSTGRES_USER=postgres
      - POSTGRES_DB=giganoto
    ports:
      - 5432:5432
    

  web:
    build: .

    environment:
      - DATABASE_URI=postgresql://postgres:giganotosecret@db:5432/giganoto
      - PYTHONUNBUFFERED=1

    volumes:
      - .:/backend-app

    ports:
      - "5000:5000"
      
    depends_on:
      - db


